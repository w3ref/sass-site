---
title: "Критическое изменение: Медиа-запросы, уровень 4"
introduction: >
  Sass добавляет поддержку спецификации CSS Media Queries Level 4,
  но это противоречит некоторому синтаксису Sass.
  Этот синтаксис устарел, чтобы гарантировать полную совместимость Sass с CSS.
---

Поскольку Sass поддерживает практически любое выражение Sass в медиа-условиях в скобках,
есть несколько конструкций, которые можно нарушить, добавив полную поддержку медиа-запросов уровня 4.
В частности:

* `@media (not (foo))` исторически интерпретировалось Sass как означающее
  `@media (#{not (foo)})`, и поэтому скомпилировано в `@media (false)`.

* `@media ((foo) and (bar))` и `@media ((foo) or (bar))`
  интерпретировались аналогичным образом как логические операторы SassScript,
  компилируясь в `@media (bar)` и `@media (foo)` соответственно.

К счастью, на практике они вряд ли появятся.

## Переходный период

<% impl_status dart: '1.54.0', libsass: false, ruby: false %>

Во-первых, мы будем выдавать предупреждения об устаревании для предыдущих неоднозначных случаев.
У них будут предложения о том, как сохранить существующее поведение или как использовать новый синтаксис CSS.

Как только предупреждения об устаревании будут отсутствовать в течение как минимум трех месяцев,
мы выпустим версию, которая интерпретирует эти неоднозначные случаи исключительно в соответствии со спецификацией CSS.
