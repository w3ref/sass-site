---
title: "Критическое изменение: Случайно с единицами измерения"
introduction: >
  Функция `random()` больше не будет игнорировать единицы в аргументе `$limit` в будущей версии.
  Передача `$limit` с единицами измерения устарела, чтобы гарантировать,
  что результаты компиляции не изменятся после появления нового поведения.
---

[Функция `random()`][The `random()` function] исторически игнорировала единицы в `$limit` и возвращала безразмерное значение. Например, `random(100px)` отбросит "px" и вернет значение, подобное `42`.

Будущая реализация Dart Sass перестанет игнорировать единицы для аргумента `$limit` и будет возвращать случайное целое число с теми же единицами измерения.

[The `random()` function]: ../modules/math#random

<% example(autogen_css: false) do %>
  // Future Sass, doesn't work yet!
  @debug math.random(100px); // 42px
  ===
  // Future Sass, doesn't work yet!
  @debug math.random(100px)  // 42px
<% end %>

## Переходный период

<% impl_status dart: '1.54.5', libsass: false, ruby: false %>

Во-первых, компилятор Sass выдаст предупреждение об устаревании для предыдущего использования `random()`, когда аргумент `$limit` имеет единицы измерения.
Предупреждение предложит способ сохранить существующее поведение и другой способ, эмулирующий будущую реализацию.

В Dart 2.0.0 передача числа `$limit` с единицами измерения будет ошибкой, а затем в будущем второстепенном выпуске функция `random()` будет возвращать случайное целое число в тех же единицах, что и `$limit`.
